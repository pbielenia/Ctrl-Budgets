{% extends 'ctrl_budgets/main.html' %}
{% block content %}

<div class="grid-container-outer">
    <div class="grid-item-header">Targeted Budgets / {{ budget.name }}</div>

    <div class="grid-container-main">

        <!-- Balance label -->
        <div class="grid-item">
            <div class="grid-item-header">Balance</div>
            <div class="grid-item-body">
                <div class="label-balance">{{balance}} PLN</div>
            </div>
        </div>

        <!-- Completed transactions table -->
        <div class="grid-item grid-item-position-transactions-table">
            <div class="grid-item-header">Completed transactions</div>
            <div class="grid-item-body">
                <a class="button-table-row button-add-new align-self-flex-end"
                    href="{% url 'investments:targeted_transaction_create' budget.id %}">Add new</a>
                <table class="table-responsive">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Cost</th>
                            <th>Details</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for transaction in transactions %}
                        <tr>
                            <td class="width-30-percent">{{transaction.date}}</td>
                            <td class="text-align-right width-20-percent">{{transaction.cost}} PLN</td>
                            <td class="text-align-center">{{transaction.details}}</td>
                            <td class="buttons-table-row-container">
                                <div class="button-table-row button-edit"></div>
                                <a class="button-table-row button-delete"
                                    href="{% url 'investments:targeted_transaction_confirm_delete' transaction.id %}"></a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>


        <!-- Planned transactions table -->
        <div class="grid-item grid-item-width-4 grid-item-height-2">
            <div class="grid-item-header">Planned transactions</div>
            <div class="grid-item-body">
                <div class="button-table-row button-add-new align-self-flex-end">Add new</div>
                <table class="table-responsive">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Cost</th>
                            <th>Details</th>
                            <th>Deadline</th>
                            <th>Planned date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <!-- Name -->
                            <td class="text-align-center">Planned transaction 1</td>
                            <!-- Cost -->
                            <td class="text-align-right width-20-percent">-200 PLN</td>
                            <!-- Details -->
                            <td class="width-30-percent">Spending</td>
                            <!-- Deadline -->
                            <td class="width-30-percent">marzec 2025</td>
                            <!-- Planned date -->
                            <td class="width-30-percent">luty 2025</td>
                            <!-- Actions -->
                            <td class="buttons-table-row-container">
                                <div class="button-table-row button-edit"></div>
                                <div class="button-table-row button-delete"></div>
                            </td>
                        </tr>
                        <tr>
                            <!-- Name -->
                            <td class="text-align-center">Upcoming transaction 1</td>
                            <!-- Cost -->
                            <td class="text-align-right width-20-percent">300 PLN</td>
                            <!-- Details -->
                            <td class="width-30-percent">Period transaction 1</td>
                            <!-- Deadline -->
                            <td class="width-30-percent">-</td>
                            <!-- Planned date -->
                            <td class="width-30-percent">1 stycznia 2024</td>
                            <!-- Actions -->
                            <td class="buttons-table-row-container">
                                <div class="button-table-row button-edit"></div>
                                <div class="button-table-row button-delete"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Periodic transactions table -->
        <div class="grid-item grid-item-width-4 grid-item-height-2">
            <div class="grid-item-header">Periodic transactions</div>
            <div class="grid-item-body">
                <div class="button-table-row button-add-new align-self-flex-end">Add new</div>
                <table class="table-responsive">
                    <thead>
                        <tr>
                            <th>Description</th>
                            <th>Cost</th>
                            <th>Start date</th>
                            <th>Interval</th>
                            <th>Next occurance</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <!-- Description -->
                            <td class="text-align-center">Periodic transaction 1</td>
                            <!-- Cost -->
                            <td class="text-align-right width-20-percent">300 PLN</td>
                            <!-- Start date -->
                            <td class="width-30-percent">27 grudnia 2024</td>
                            <!-- Interval -->
                            <td class="width-30-percent">każdy 1 dzień miesiąca</td>
                            <!-- Next occurance -->
                            <td class="width-30-percent">1 stycznia 2024</td>
                            <!-- Actions -->
                            <td class="buttons-table-row-container">
                                <div class="button-table-row button-edit"></div>
                                <div class="button-table-row button-delete"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

{% endblock %}